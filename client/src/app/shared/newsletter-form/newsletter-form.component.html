<form
  class="mt-4 sm:mt-0 sm:flex sm:max-w-md"
  [formGroup]="newsletterForm"
  (ngSubmit)="subscribeHandler()"
>
  <div class="w-full flex flex-col">
    <label for="email-address" class="sr-only">Email address</label>
    <input
      type="email"
      name="email-address"
      id="email-address"
      required
      placeholder="Enter your email"
      autocomplete="email"
      formControlName="email"
      class="w-full min-w-0 appearance-none rounded-md border border-gray-300 bg-white px-4 py-2 text-base text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500"
    />
    
    <ng-container *ngIf="newsletterForm.get('email')?.touched">
      <p class="error text-red-500 text-sm mt-1" *ngIf="newsletterForm.get('email')?.errors?.['required']">
        Email is required!
      </p>
      <p
        class="error text-red-500 text-sm mt-1"
        *ngIf="newsletterForm.get('email')?.errors?.['emailValidator']"
      >
        Please enter a valid email address.
      </p>
    </ng-container>
  </div>

  <div class="mt-3 rounded-md sm:mt-0 sm:ml-3 sm:flex-shrink-0">
    <button
      type="submit"
      [disabled]="newsletterForm.invalid"
      class="flex w-full items-center justify-center rounded-md border border-transparent bg-[#276ef1] px-4 py-2 text-base font-medium text-white hover:bg-[#1d4ed8] focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed"
    >
      Subscribe
    </button>
  </div>
</form>

<div *ngIf="successMessage" class="success-message text-green-500 font-medium mt-2">
  {{ successMessage }}
</div>

<div *ngIf="error" class="error-message text-red-600 font-medium mt-2">
  {{ error }}
</div>