<form id="signInForm" class="space-y-4 mx-auto mb-4 pb-4" [formGroup]="loginForm" (ngSubmit)="loginFormHandler()">


  <div class="relative">

    <mat-icon
      class="absolute bottom-0 left-[5%] right-auto top-[26%] inline-block h-5 w-5 text-gray-500">mail_outline</mat-icon>

    <input type="email" name="email"
      class="mb-4 block h-12 w-full border border-black bg-[#f2f2f7] px-6 py-6 pl-14 text-base text-[#333333]"
      maxlength="30" placeholder="Email Address" autocomplete="username" formControlName="email" [class.border-red-500]="
        loginForm.get('email')?.invalid && loginForm.get('email')?.touched
      " />
  </div>

  <ng-container *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
    <div class="mt-2 text-sm text-red-600">
      <div *ngIf="loginForm.get('email')?.errors?.['required']">
        Email is required!
      </div>
      <div *ngIf="loginForm.get('email')?.errors?.['invalidEmail']">
        Please enter a valid email address (example: user"&#64;"domain.com).
      </div>
    </div>
  </ng-container>

  <div class="relative mb-4">

    <mat-icon
      class="absolute bottom-0 left-[5%] right-auto top-[26%] inline-block h-5 w-5 text-gray-500">work_outline</mat-icon>

    <input [type]="showPassword ? 'text' : 'password'" name="password"
      class="mb-4 block h-12 w-full border border-black bg-[#f2f2f7] px-6 py-6 pl-14 text-base text-[#333333]"
      placeholder="Password (min 8 characters)" autocomplete="current-password" formControlName="password"
      [class.border-red-500]="
        loginForm.get('password')?.invalid && loginForm.get('password')?.touched
      " />
    <button type="button"
      class="absolute right-3 top-0 bottom-0 my-auto h-fit bg-transparent border-none cursor-pointer p-1 flex items-center justify-center text-gray-500 hover:text-gray-700"
      (click)="togglePasswordVisibility()">
      <app-eye-icon [closed]="showPassword"></app-eye-icon>
    </button>
  </div>

  <ng-container *ngIf="
      loginForm.get('password')?.invalid && loginForm.get('password')?.touched
    ">
    <div class="mt-2 text-sm text-red-600">
      <div *ngIf="loginForm.get('password')?.errors?.['required']">
        Password is required!
      </div>
      <div *ngIf="loginForm.get('password')?.errors?.['minlength']">
        Password should be at least 8 characters long.
      </div>
    </div>
  </ng-container>


  <app-custom-button [disabled]="loginForm.invalid"
    [buttonClass]="'w-full flex items-center justify-center bg-[#276ef1] px-8 py-4 text-center font-semibold text-white transition [box-shadow:rgb(171,_196,_245)_-8px_8px] hover:[box-shadow:rgb(171,_196,_245)_0px_0px]'"
    [buttonText]="'Join Blogger'">

  </app-custom-button>

</form>